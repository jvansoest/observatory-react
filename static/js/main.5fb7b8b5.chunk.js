(this.webpackJsonpobservatory=this.webpackJsonpobservatory||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/logosmall.4a6f6104.svg"},120:function(e,t,a){e.exports=a.p+"static/media/logo.a5e39838.svg"},127:function(e,t,a){e.exports=a(305)},305:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(26),l=a.n(s),i=(a(132),a(18)),o=a(10),c=a(13),u=a(12),h=a(9),p=a(6),d=a(11),m=a(307),b=a(308),f=a(309),g=a(310),E=a(101),v=a.n(E),y=a(31),O=function(e){return r.a.createElement(m.a,{color:"danger",dark:!0,expand:"md"},r.a.createElement(y.b,{className:"nav-link",to:"/"},r.a.createElement("img",{src:v.a,alt:"Odyceus"})),r.a.createElement(b.a,{className:"mr-auto",navbar:!0},r.a.createElement(f.a,null,r.a.createElement(y.b,{className:"nav-link",to:"/"},"Home")),r.a.createElement(f.a,null,r.a.createElement(y.b,{className:"nav-link",to:"/observatory"},"Observatory")),r.a.createElement(f.a,null,r.a.createElement(y.b,{className:"nav-link",to:"/about"},"About"))),r.a.createElement(g.a,null,"A Penelope interface"))},j=a(313),k=a(312),C=a(321),S=a(322),x=a(323),P=a(311),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleDelete=a.handleDelete.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleDelete",value:function(){this.props.onDelete(this.props.text)}},{key:"render",value:function(){return r.a.createElement(P.a,{color:"danger",className:"h1 btn-block"},this.props.text,r.a.createElement("button",{className:"close","aria-label":"Close",type:"button",onClick:this.handleDelete},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}}]),t}(r.a.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(k.a,null,this.props.labels.map((function(t){return r.a.createElement(j.a,{key:t},r.a.createElement(w,{onDelete:e.props.onDelete,text:t}))})))}}]),t}(r.a.Component),F=a(14),N=a(314),D=a(329),W=a(315),A=a(316),I=a(317),z=a(318),G=a(319),B=a(320),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={isModalOpen:!1,term:"floods",number:"10",start:"2018-1-1",stop:"2019-1-1",source:"guardian"},a.toggle=a.toggle.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.publish=a.publish.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"publish",value:function(){this.toggle(),this.props.onAdd(this.state.source,this.state.term,this.state.start,this.state.stop,this.state.number)}},{key:"toggle",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleChange",value:function(e){var t=e.target;this.setState(Object(F.a)({},t.name,t.value))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N.a,{size:"sm",disabled:this.props.disabled,className:"mb-2",color:"danger",onClick:this.toggle,block:!0},this.props.buttonLabel),r.a.createElement(D.a,{isOpen:this.state.isModalOpen,toggle:this.toggle},r.a.createElement(W.a,{toggle:this.toggle},"Add new dataset"),r.a.createElement(A.a,null,r.a.createElement(j.a,{form:!0},r.a.createElement(k.a,{md:10},r.a.createElement(I.a,null,r.a.createElement(z.a,{for:"sourceInput"},"Source"),r.a.createElement(G.a,{value:this.state.source,type:"select",name:"source",id:"sourceInput",onChange:this.handleChange},r.a.createElement("option",{value:"guardian"},"Guardian"),r.a.createElement("option",{value:"twitter"},"Twitter"),r.a.createElement("option",{value:"reddit"},"Reddit"),r.a.createElement("option",{value:"parlgbr"},"Parliament UK"),r.a.createElement("option",{value:"parlger"},"Parliament DE"))))),r.a.createElement(j.a,{form:!0},r.a.createElement(k.a,{md:10},r.a.createElement(I.a,null,r.a.createElement(z.a,{for:"termInput"},"Term"),r.a.createElement(G.a,{type:"input",name:"term",id:"termInput",onChange:this.handleChange,placeholder:this.state.term})))),r.a.createElement(j.a,{form:!0},r.a.createElement(k.a,{md:10},r.a.createElement(I.a,null,r.a.createElement(z.a,{for:"numberInput"},"Number"),r.a.createElement(G.a,{type:"input",name:"number",id:"numberInput",onChange:this.handleChange,placeholder:this.state.number})))),r.a.createElement(j.a,{form:!0},r.a.createElement(k.a,{md:6},r.a.createElement(I.a,null,r.a.createElement(z.a,{for:"startInput"},"From"),r.a.createElement(G.a,{type:"input",name:"start",id:"startInput",onChange:this.handleChange,placeholder:this.state.start}))),r.a.createElement(k.a,{md:6},r.a.createElement(I.a,null,r.a.createElement(z.a,{for:"stopInput"},"To"),r.a.createElement(G.a,{type:"input",name:"stop",id:"stopInput",onChange:this.handleChange,placeholder:this.state.stop}))))),r.a.createElement(B.a,null,r.a.createElement(N.a,{color:"danger",onClick:this.publish},"Add Dataset")," ",r.a.createElement(N.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(r.a.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{className:"shadow h-100"},r.a.createElement(S.a,null,r.a.createElement(x.a,{className:"text-center"}," ",this.props.title),this.props.body))}}]),t}(r.a.Component),V=a(104),J=(a(150),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"100px",marginLeft:"-28px",marginRight:"-28px"}},r.a.createElement(V.ProgressBar,{percent:this.props.percent?this.props.percent:0,filledBackground:"linear-gradient(to right, #dc3745, #d9717a)"}))}}]),t}(r.a.Component)),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={isModalOpen:!1},a.toggle=a.toggle.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"publish",value:function(){this.toggle()}},{key:"toggle",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleChange",value:function(e){var t=e.target;this.setState(Object(F.a)({},t.name,t.value))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N.a,{size:"sm",disabled:this.props.disabled,className:"mb-2",color:"danger",onClick:this.toggle,block:!0},"Check pipeline steps"),r.a.createElement(D.a,{isOpen:this.state.isModalOpen,toggle:this.toggle},r.a.createElement(W.a,{toggle:this.toggle},"Pipeline steps overview"," "),r.a.createElement(A.a,null,r.a.createElement("ul",null,this.props.pipeline.map((function(e){return r.a.createElement("li",{key:e},e)})))),r.a.createElement(B.a,null,r.a.createElement(N.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handlePlot=a.handlePlot.bind(Object(p.a)(a)),a.handleFinal=a.handleFinal.bind(Object(p.a)(a)),a.handleCause=a.handleCause.bind(Object(p.a)(a)),a.handleEntities=a.handleEntities.bind(Object(p.a)(a)),a.handleWordTree=a.handleWordTree.bind(Object(p.a)(a)),a.handleStatement=a.handleStatement.bind(Object(p.a)(a)),a.handlePlotGraph=a.handlePlotGraph.bind(Object(p.a)(a)),a.handleClickButton5=a.handleClickButton5.bind(Object(p.a)(a)),a.handleClickButton6=a.handleClickButton6.bind(Object(p.a)(a)),a.state={pipeline:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleWordTree",value:function(){this.props.onWordTree()}},{key:"handleStatement",value:function(){this.props.onStatement()}},{key:"handleEntities",value:function(){this.props.onEntities()}},{key:"handleCause",value:function(){console.log("getting causes"),this.props.onCause()}},{key:"handlePlotGraph",value:function(){this.props.onPlotGraph()}},{key:"handlePlot",value:function(){this.props.onPlot()}},{key:"handleClickButton5",value:function(){this.props.onTextFunction5()}},{key:"handleClickButton6",value:function(){this.props.onTextFunction6()}},{key:"handleFinal",value:function(){alert("Pipeline steps:"),this.setState({pipeline:this.props.pipeline})}},{key:"render",value:function(){var e={text:r.a.createElement("div",null,r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handleStatement},"Statement Graph"),r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handleEntities},"Named Entities"),r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handleCause},"Causal Frames"),r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",disabled:!0},"N-grams"),r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handleWordTree},"Word tree")),numerical:r.a.createElement("div",null,r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handlePlot},"Plot counts")),graph:r.a.createElement("div",null,r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handlePlotGraph},"Plot graph")),visual:r.a.createElement("div",null,r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handleClickButton5},"Plot graph"),r.a.createElement(N.a,{block:!0,size:"sm",color:"danger",onClick:this.handleClickButton6},"Plot counts")),final:r.a.createElement("div",null,r.a.createElement(H,{pipeline:this.props.pipeline}))};return r.a.createElement(n.Fragment,null,r.a.createElement(k.a,{xs:"1"},r.a.createElement(J,{percent:this.props.steps.length>1&&100})),r.a.createElement(k.a,null,r.a.createElement(L,{title:"Step 1",body:e[this.props.steps[0]]})),r.a.createElement(k.a,{xs:"1"},r.a.createElement(J,{percent:this.props.steps.length>2&&100})),r.a.createElement(k.a,null,r.a.createElement(L,{title:"Step 2",body:e[this.props.steps[1]]})),r.a.createElement(k.a,{xs:"1"},r.a.createElement(J,{percent:this.props.steps.length>3&&100})),r.a.createElement(k.a,null,r.a.createElement(L,{title:"Step 3",body:e[this.props.steps[2]]})))}}]),t}(r.a.Component),U=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,{style:{height:"200px"},className:"shadow"},r.a.createElement(S.a,null,r.a.createElement(x.a,null," Choose dataset(s)"),r.a.createElement(M,{disabled:this.props.labels.length>=2,buttonLabel:"Add Dataset",onAdd:this.props.onAdd}),r.a.createElement(T,{onDelete:this.props.onDelete,labels:this.props.labels})))),r.a.createElement(R,{steps:this.props.steps,pipeline:this.props.pipeline,onStatement:this.props.onStatement,onWordTree:this.props.onWordTree,onCause:this.props.onCause,onPlotGraph:this.props.onPlotGraph,onEntities:this.props.onEntities,onPlot:this.props.onPlot,onFinish:this.props.onFinish,onTextFunction5:this.props.onTextFunction5,onTextFunction6:this.props.onTextFunction6}))}}]),t}(r.a.Component),q=a(105),K=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.datasets?r.a.createElement(j.a,null,this.props.datasets.map((function(t){return t[e.props.field]&&r.a.createElement(Y,{key:t.name,data:t[e.props.field],focusWord:t.term})}))):null}}]),t}(r.a.Component),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={data:null,focusWord:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data,focusWord:this.props.focusWord})}},{key:"render",value:function(){return r.a.createElement(k.a,{sm:"6"},r.a.createElement(C.a,{className:"shadow justify-content-between"},r.a.createElement(q.a,{loader:r.a.createElement("div",null,"Loading Chart"),chartType:"WordTree",data:this.state.data,options:{wordtree:{format:"implicit",word:this.state.focusWord,type:"suffix"}},rootProps:{"data-testid":"1"}})))}}]),t}(r.a.Component),Q=K,X=a(324),Z=a(107),$=a.n(Z),_=a(108),ee=a.n(_),te=a(47),ae=a.n(te),ne=te.CSVExport.ExportCSVButton,re=te.Search.SearchBar,se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={data:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[{dataField:"date",text:"Article date"},{dataField:"title",text:"Title"},{dataField:"text",text:"Text",formatter:function(e,t){return r.a.createElement("div",{style:{height:"150px",overflow:"auto"}},e)}}];return r.a.createElement("div",null,r.a.createElement(C.a,{className:"justify-content-between shadow"},r.a.createElement(S.a,null,r.a.createElement(x.a,{className:"text-center"},r.a.createElement("h3",null,this.props.title)),this.props.body,r.a.createElement(X.a,null),r.a.createElement(ae.a,{keyField:"id",data:this.props.data,columns:e,search:!0,exportCSV:!0},(function(e){return r.a.createElement("div",null,r.a.createElement(re,e.searchProps),r.a.createElement(ne,Object.assign({className:"btn-danger sm"},e.csvProps),"Export CSV"),r.a.createElement($.a,Object.assign({},e.baseProps,{pagination:ee()()})))})))))}}]),t}(r.a.Component),le=a(326),ie=a(121),oe=a(117),ce=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.data?r.a.createElement(j.a,null,this.props.data.map((function(t){return t[e.props.field]&&r.a.createElement(k.a,{sm:"6",key:t.name},r.a.createElement(oe.SizeMe,{monitorHeight:!0},(function(a){var n=a.size;return r.a.createElement(C.a,{className:"shadow justify-content-between"},r.a.createElement(S.a,null,r.a.createElement(ie.a,{graphData:t[e.props.field],nodeLabel:"text",width:n.width-30,height:600})))})))}))):null}}]),t}(r.a.Component),ue=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.field;return this.props.data?r.a.createElement(j.a,null,this.props.data.map((function(a){return a[t]&&r.a.createElement(k.a,{sm:"6",key:a.name},r.a.createElement(C.a,{className:"shadow justify-content-between"},r.a.createElement(S.a,null,r.a.createElement(x.a,{className:"text-center"},r.a.createElement("h3",null,e.props.title)),r.a.createElement(X.a,{style:{height:"150px",overflow:"auto"}},JSON.stringify(a[t],null,4)))))}))):null}}]),t}(r.a.Component),he=a(43),pe=a(118),de=a.n(pe),me=a(61),be=a.n(me),fe=a(119),ge=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).setHoverData=function(e){a.setState({hoverData:e.target.category})},a.updateInput=function(e){a.setState({inputValue:e.target.value},(function(){var e=a.props.data.filter((function(e){return e.name.toLowerCase().includes(a.state.inputValue)}));a.setState((function(t){return Object(he.a)({},t,{chartOptions:Object(he.a)({},t.chartOptions,{series:e})})}))}))},a.state={inputValue:"",chartOptions:{chart:{type:"area"},xAxis:{maxPadding:0,type:"category",crosshair:!0,categories:a.props.categories},title:{text:"Named Entities frequencies over time"},plotOptions:{area:{stacking:"normal",lineColor:"#666666",lineWidth:1,marker:{lineWidth:1,lineColor:"#666666"}}},series:a.props.data}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.chartOptions;return r.a.createElement(j.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,{className:"shadow justify-content-between"},r.a.createElement(S.a,null,r.a.createElement(j.a,{form:!0},r.a.createElement(k.a,{md:2},r.a.createElement(I.a,null,r.a.createElement(z.a,{for:"searchInput"},"Search terms containing: "),r.a.createElement(fe.DebounceInput,{id:"searchInput",className:"form-control",value:this.state.inputValue,minLength:3,debounceTimeout:900,onChange:function(t){return e.updateInput(t)}})))),r.a.createElement(de.a,{highcharts:be.a,options:t})))))}}]),t}(n.Component),Ee=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.isLoading?r.a.createElement("div",{className:"text-center m-10"},r.a.createElement(le.a,{style:{width:"6rem",height:"6rem"},color:"danger"})):r.a.createElement("div",null,this.props.datasets.length>0&&this.props.datasets[0].plot&&r.a.createElement(ge,{data:this.props.datasets[0].plot.data,categories:this.props.datasets[0].plot.categories}),r.a.createElement(ue,{data:this.props.datasets,field:"entities",title:"Entities Json Data"}),r.a.createElement(ce,{data:this.props.datasets,field:"graph",title:"Plot Graph"}),r.a.createElement(ue,{data:this.props.datasets,field:"statements",title:"Graph Json Data"}),r.a.createElement(Q,{datasets:this.props.datasets,field:"tree",title:"Word tree"})),r.a.createElement(j.a,null,this.props.datasets.map((function(e){return e.cause&&r.a.createElement(k.a,{sm:"6",key:e.name},r.a.createElement(se,{key:e.name,title:"Causal Frames in text",body:e.name,data:e.cause}))}))),r.a.createElement(j.a,null,this.props.datasets.map((function(e){return r.a.createElement(k.a,{sm:"6",key:e.name},r.a.createElement(se,{key:e.name,title:"Dataset",body:e.name,data:e.data}))}))))}}]),t}(r.a.Component),ve=a(327),ye=a(120),Oe=a.n(ye);var je=function(){return r.a.createElement(ve.a,null,r.a.createElement("img",{src:Oe.a,alt:"Logo"}),r.a.createElement("h1",null,"Welcome"),r.a.createElement("p",null,"In our present information society, on-line (social) media are important sites of debate and discussion on a range of current affairs, including nationality and identity, migration, and climate change. As such, these (social) media platforms house a trove of relevant information for the study of cultural and societal conflicts. Harvesting and analyzing this digital information, however, can be challenging."),r.a.createElement("p",null,"The Penelope climate change opinion observatory aims to mitigate this situation by providing users with tools for studying cultural or societal conflicts on climate change using (social) media data automatically mined from Twitter, The Guardian and Reddit. The envisaged users of this observatory include researchers, journalists, policy makers and engaged citizens with varying degrees of technical proficiency, ranging from novices to developers."),r.a.createElement("p",null,"As a part of the Penelope infrastructure, the climate change opinion observatory is a thematic web application with an accessible user interface that can be used \u2018as such\u2019, but that also offers users the flexibility to combine and possibly customize various analytical pipeline components. These components, some of which are currently still under development, cover the research cycle from the phase of data gathering up to the actual reporting on analyses. Current tools within the climate change observatory include:"),r.a.createElement("ul",null,r.a.createElement("li",null,"An interface for selecting the data source and filtering data by keywords, data range and number of posts or articles"),r.a.createElement("li",null,"An interface for exploratory analyses, including time series data on content grouped by category (e.g. on the basis of tags assigned to news articles or hashtags of tweets)"),r.a.createElement("li",null,"Basic analytical tools including keyword in context search (KWIC), visualizations of co-occurrence networks and of term frequencies.")),r.a.createElement("p",null,"Forthcoming analytical components will include tools for analyzing causal relations in texts as well as for generating reports that might foster reproducibility of analyses. For preliminary examples of how these tools might be used to support research in the social sciences and humanities, please refer to the Showcase. Users interested in contributing their own components or exploring the possibilities of existing components in the Penelope ecosystem can refer to the Penelope community page for the latest news and updates on the project."))};var ke=function(){return r.a.createElement(ve.a,null,r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"This application has been developed by the Evolutionary and Hybrid AI team at VUB for the ODYCCEUS project founded by the H2020 FETPROACT program of the European Commission. It is hosted by the AI lab Brussels."))},Ce="https://penelope.vub.be/observatory-api/",Se={Accept:"application/json","Content-Type":"application/json"};var xe=a(29),Pe=a(328),we=(r.a.Component,function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={datasets:[],steps:[],pipeline:[],loading:!1,errorMessage:""},a.handleAdd=a.handleAdd.bind(Object(p.a)(a)),a.handlePlot=a.handlePlot.bind(Object(p.a)(a)),a.handleGraph=a.handleGraph.bind(Object(p.a)(a)),a.handleCause=a.handleCause.bind(Object(p.a)(a)),a.handleDelete=a.handleDelete.bind(Object(p.a)(a)),a.handleFinish=a.handleFinish.bind(Object(p.a)(a)),a.handleWordTree=a.handleWordTree.bind(Object(p.a)(a)),a.handleEntities=a.handleEntities.bind(Object(p.a)(a)),a.handleStatement=a.handleStatement.bind(Object(p.a)(a)),a.handleFunction5=a.handleFunction5.bind(Object(p.a)(a)),a.handleFunction6=a.handleFunction6.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleAdd",value:function(e,t,a,n,r){var s=this,l=e+t+a+n+r;if(!this.state.datasets.some((function(e){return e.name===l}))){var o=function(e,t,a,n,r){var s=new URLSearchParams({term:t,start:a,stop:n,number:r});return Ce+{guardian:"test?",parlgbr:"get-parl-data-gbr?",parlger:"get-parl-data-ger?",twitter:"twitter-data?",reddit:"get-reddit-data?"}[e]+s.toString()}(e,t,a,n,r);this.setState({pipeline:[].concat(Object(i.a)(this.state.pipeline),["Dataset: "+o])}),fetch(o,{method:"GET"}).then((function(e){return e.json()})).then((function(e){s.setState((function(s){return{datasets:[].concat(Object(i.a)(s.datasets.map((function(e){return e.statements=null,e.graph=null,e.plot=null,e.tree=null,e.entities=null,e}))),[{name:l,data:e,term:t,start:a,stop:n,number:r}]),steps:["text"]}}))}))}}},{key:"handleDelete",value:function(e){var t=this.state.datasets.filter((function(t){return t.name!==e})),a=t.map((function(e){return e.statements=null,e.graph=null,e.plot=null,e.tree=null,e.entities=null,e}));0===t.length?this.setState({steps:[],datasets:a}):this.setState({steps:["text"],datasets:a})}},{key:"handleWordTree",value:function(){var e=this;this.setState({loading:!0});var t=this.state.datasets.map((function(e){return e.data}));this.setState({pipeline:[].concat(Object(i.a)(this.state.pipeline),["Word Tree: https://penelope.vub.be/observatory-api/get-word-tree"])});var a=t.map((function(e){return fetch(Ce+"get-word-tree",{method:"POST",headers:Se,body:JSON.stringify(e)})}));Promise.all(a).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){e.setState((function(e){return{datasets:Object(i.a)(e.datasets.map((function(e,a){return e.tree=t[a],e})))}})),e.setState({steps:["text","final"]}),e.setState((function(e){return e.datasets.map((function(e){return e.statements=null,e.graph=null,e.plot=null,e.entities=null,e}))})),e.setState({loading:!1})}))}},{key:"handleStatement",value:function(){var e=this;this.setState({loading:!0});var t=this.state.datasets.map((function(e){return e.data}));this.setState({pipeline:[].concat(Object(i.a)(this.state.pipeline),["Statements: https://penelope.vub.be/observatory-api/get-statements"])});var a=t.map((function(e){return fetch(Ce+"get-statements",{method:"POST",headers:Se,body:JSON.stringify(e)})}));Promise.all(a).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){e.setState((function(e){return{datasets:Object(i.a)(e.datasets.map((function(e,a){return e.statements=t[a],e})))}})),e.setState({steps:["text","graph"]}),e.setState((function(e){return e.datasets.map((function(e){return e.tree=null,e.graph=null,e.plot=null,e.entities=null,e}))})),e.setState({loading:!1})}))}},{key:"handleGraph",value:function(){this.setState({loading:!0});this.setState({pipeline:[].concat(Object(i.a)(this.state.pipeline),["Graph Visualisation: https://penelope.vub.be/observatory-api/visualize-graph"])}),this.setState((function(e){return{datasets:Object(i.a)(e.datasets.map((function(e){return e.graph=e.statements,e})))}})),this.setState({steps:["text","graph","final"]}),this.setState({loading:!1})}},{key:"handleEntities",value:function(){var e=this;this.setState({loading:!0});var t=this.state.datasets.map((function(e){return e.data}));this.setState({pipeline:[].concat(Object(i.a)(this.state.pipeline),["Named Entity Recognition: https://penelope.vub.be/observatory-api/get-entities"])});var a=t.map((function(e){return fetch(Ce+"get-entities",{method:"POST",headers:Se,body:JSON.stringify(e)})}));Promise.all(a).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){e.setState((function(e){return{datasets:Object(i.a)(e.datasets.map((function(e,a){return e.entities=t[a],e})))}})),e.setState({steps:["text","numerical"]}),e.setState((function(e){return e.datasets.map((function(e){return e.statements=null,e.graph=null,e.plot=null,e.tree=null,e}))})),e.setState({loading:!1})}))}},{key:"handlePlot",value:function(){this.setState({loading:!0});this.setState({pipeline:[].concat(Object(i.a)(this.state.pipeline),["Plot graph"])}),this.setState((function(e){return{datasets:Object(i.a)(e.datasets.map((function(e){return e.plot=e.entities,e})))}})),this.setState({steps:["text","numerical","final"]}),this.setState({loading:!1})}},{key:"handleFinish",value:function(){this.setState({steps:[].concat(Object(i.a)(this.state.steps),["done"])})}},{key:"handleCause",value:function(){var e=this;this.setState({loading:!0});var t=this.state.datasets.map((function(e){return e.data})).map((function(e){return fetch(Ce+"get-cause",{method:"POST",headers:Se,body:JSON.stringify(e)})}));Promise.all(t).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){e.setState((function(e){return{datasets:Object(i.a)(e.datasets.map((function(e,a){return e.cause=t[a],e})))}})),e.setState({steps:["text","numerical"]}),e.setState((function(e){return e.datasets.map((function(e){return e.statements=null,e.graph=null,e.plot=null,e.tree=null,e.entities=null,e}))})),e.setState({loading:!1})})).catch((function(t){e.setState({errorMessage:"error"})}))}},{key:"handleFunction5",value:function(){}},{key:"handleFunction6",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{basename:"/observatories/climate-change-opinion-observatory"},r.a.createElement(O,null),r.a.createElement(xe.c,null,r.a.createElement(xe.a,{path:"/observatory"},r.a.createElement(ve.a,{fluid:!0},r.a.createElement("h1",null,"Pipeline"),r.a.createElement(U,{labels:this.state.datasets.map((function(e){return e.name})),steps:this.state.steps,pipeline:this.state.pipeline,onAdd:this.handleAdd,onDelete:this.handleDelete,onStatement:this.handleStatement,onWordTree:this.handleWordTree,onCause:this.handleCause,onEntities:this.handleEntities,onPlotGraph:this.handleGraph,onFinish:this.handleFinish,onPlot:this.handlePlot,onTextFunction5:this.handleFunction5,onTextFunction6:this.handleFunction6}),r.a.createElement("h1",null,"Dashboard"),r.a.createElement(Ee,{isLoading:this.state.loading,datasets:this.state.datasets}))),r.a.createElement(xe.a,{path:"/about"},r.a.createElement(ke,null)),r.a.createElement(xe.a,{path:"/"},r.a.createElement(je,null)))))}}]),t}(r.a.Component));l.a.render(r.a.createElement(we,null),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.5fb7b8b5.chunk.js.map